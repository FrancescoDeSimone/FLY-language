env local = [type:"local"]  
  channel ch on local              
  func hit(data){                   
     random r          
     var x = r.nextDouble()
     var y = r.nextDouble()  
     var msg=0  
     if( (x*x)+(y*y) < 1.0 ){ msg=1 }
     ch!msg  
  }
  func estimation(){ 
     var sum = 0
     var crt = 0
     for i in [0:10000] {
   	  sum += ch? as Integer 
   	  crt += 1  
     }
     println "PI approximation is "+ (sum*4.0)/crt 
  }
  fly hit in [0:10000] on local thenall estimation